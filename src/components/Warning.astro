---
import { cn } from "@lib/utils";

type Props = {
  variant?: "warning" | "error" | "info";
  title?: string;
  class?: string;
};

const { variant = "warning", title, class: className, ...rest } = Astro.props;

const variantStyles = {
  warning:
    "bg-amber-50 border-amber-200 text-amber-800 dark:bg-amber-900/20 dark:border-amber-800/30 dark:text-amber-200",
  error:
    "bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800/30 dark:text-red-200",
  info: "bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800/30 dark:text-blue-200",
};

const iconStyles = {
  warning: "⚠️",
  error: "❌",
  info: "ℹ️",
};
---

<div
  class={cn(
    "rounded-lg border p-4 my-4 transition-colors duration-300 ease-in-out",
    variantStyles[variant],
    className,
  )}
  {...rest}
>
  <div class="flex">
    <div class="flex-shrink-0">
      <span class="text-lg" aria-hidden="true">{iconStyles[variant]}</span>
    </div>
    <div class="ml-3 flex-1">
      {title && <h4 class="text-sm font-medium mb-1">{title}</h4>}
      <div class="text-sm">
        <slot />
      </div>
    </div>
  </div>
</div>
